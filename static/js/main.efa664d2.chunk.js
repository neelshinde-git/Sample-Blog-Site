(this.webpackJsonpstory_app=this.webpackJsonpstory_app||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(18)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(7),i=a.n(r),o=(a(13),a(2)),l=a(3),c=a(5),u=a(4),h=a(1);a(14);var d=function(e){var t="like";return e.isLiked&&(t="like show"),s.a.createElement("div",{className:"news"},s.a.createElement("p",{className:"headline"},s.a.createElement("b",null,e.headline)),s.a.createElement("button",{className:t,onClick:function(){return e.likeNews(e.headline,e.author)}},"\u2764"),s.a.createElement("p",{className:"author"},e.author))};var m=function(e){return s.a.createElement("div",{className:"top-container"},s.a.createElement("h3",null,"StoryTeller"),s.a.createElement("div",{className:"searchbar"},s.a.createElement("input",{type:"text",placeholder:"Search...",onChange:e.searchChange})))},f=(a(15),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isLoaded:!1,news:[],likedItems:[],filteredNews:[]},n.searchChange=n.searchChange.bind(Object(h.a)(n)),n.likeNews=n.likeNews.bind(Object(h.a)(n)),"undefined"!==typeof Storage?null!==localStorage.getItem("likedNews")&&(n.state.likedItems=JSON.parse(localStorage.getItem("likedNews"))):alert("Sorry, your browser doesn't support this feature"),n}return Object(l.a)(a,[{key:"likeNews",value:function(e,t){var a=this;if(this.state.likedItems.some((function(a){return a.headline===e&&a.author===t}))){var n=this.state.likedItems.findIndex((function(a){return a.headline===e&&a.author===t})),s=this.state.likedItems.slice();s.splice(n,1),this.setState({likedItems:s},(function(){"undefined"!==typeof Storage?window.localStorage.setItem("likedNews",JSON.stringify(a.state.likedItems)):alert("Sorry, your browser doesn't support this feature")}))}else{var r=this.state.likedItems.slice();r.push({headline:e,author:t}),this.setState({likedItems:r},(function(){"undefined"!==typeof Storage?window.localStorage.setItem("likedNews",JSON.stringify(a.state.likedItems)):alert("Sorry, your browser doesn't support this feature")}))}}},{key:"searchChange",value:function(e){var t=e.target.value;""!==t?this.setState({filteredNews:this.state.news.filter((function(e){return e.story.headline.toLowerCase().includes(t.toLowerCase())}))}):this.setState({filteredNews:this.state.news})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://cors-anywhere.herokuapp.com/https://ace.qtstage.io/api/v1/collections/entertainment").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,news:t.items,filteredNews:t.items})})).catch(console.log),console.log("Component Mounted")}},{key:"render",value:function(){var e=this;return console.log("Rendering..."),this.state.isLoaded?s.a.createElement("div",null,s.a.createElement(m,{searchChange:this.searchChange}),s.a.createElement("div",{className:"newsfeed"},this.state.filteredNews.map((function(t,a){return s.a.createElement("div",{className:"news-container",key:a},s.a.createElement(d,{headline:t.story.headline,author:t.story["author-name"],likeNews:e.likeNews,isLiked:e.state.likedItems.some((function(e){return e.headline===t.story.headline&&e.author===t.story["author-name"]}))}))})),";")):s.a.createElement("div",null," ",s.a.createElement(m,{searchChange:this.searchChange})," ",s.a.createElement("h1",{className:"loading"},"Loading... ")," ")}}]),a}(s.a.Component)),p=(a(16),a(17),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(f,null))}}]),a}(s.a.Component));i.a.render(s.a.createElement(p,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.efa664d2.chunk.js.map