{"version":3,"sources":["modules/News.js","components/SearchBar.js","components/NewsFeed.js","components/App.js","index.js"],"names":["News","props","className","isLiked","headline","onClick","likeNews","author","SearchBar","type","placeholder","onChange","searchChange","NewsFeed","state","isLoaded","news","likedItems","filteredNews","bind","Storage","localStorage","getItem","JSON","parse","alert","this","some","item","index","findIndex","e","arr","slice","splice","setState","window","setItem","stringify","push","event","searchText","target","value","filter","story","toLowerCase","includes","fetch","then","response","json","data","items","catch","console","log","map","key","React","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.efa664d2.chunk.js","sourcesContent":["import React from \"react\"\r\nimport \"../css/news.css\"\r\n\r\nfunction News(props){\r\n    let className = \"like\"\r\n    if(props.isLiked)\r\n        className=\"like show\"\r\n    return(\r\n        <div className=\"news\">\r\n            <p className=\"headline\"><b>{props.headline}</b></p>\r\n            <button className={className} onClick={()=>props.likeNews(props.headline,props.author)}>&#10084;</button>\r\n            <p className=\"author\">{props.author}</p>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default News","import React from \"react\"\r\n\r\nfunction SearchBar(props){\r\n    \r\n    return(\r\n        <div className=\"top-container\">\r\n            <h3>StoryTeller</h3>\r\n            <div className=\"searchbar\">\r\n                <input type=\"text\" placeholder=\"Search...\" onChange={props.searchChange}></input>\r\n            </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default SearchBar","import React from \"react\"\r\nimport News from \"../modules/News\"\r\nimport SearchBar from \"./SearchBar\"\r\nimport \"../css/newsfeed.css\"\r\n\r\n\r\nclass NewsFeed extends React.Component{\r\n    \r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            isLoaded:false,\r\n            news:[],\r\n            likedItems:[],\r\n            filteredNews: []\r\n        }\r\n        this.searchChange = this.searchChange.bind(this);\r\n        this.likeNews = this.likeNews.bind(this);\r\n        if (typeof(Storage) !== \"undefined\") {\r\n            if(localStorage.getItem(\"likedNews\")!==null){\r\n                this.state.likedItems=JSON.parse(localStorage.getItem(\"likedNews\"));\r\n            }\r\n            \r\n        } else {\r\n            alert(\"Sorry, your browser doesn't support this feature\")\r\n        }\r\n        \r\n    }\r\n    \r\n    \r\n    /******************************** WORKING COMMENTS ***********************\r\n    \r\n    likeNews()  => invoked upon like button press.  \r\n                         Checks if the headline and author are present in the array of liked elements. If yes, it unlikes that element else likes it. \r\n    searchChange()  => Used to filter displayed news based on search text. \r\n    \r\n    componentDidMount() => Used to fetch API response and update state accordingly.\r\n    \r\n    In Render method, 'map' function is used for News elements, 'some' function is used to identify if the story is among the liked stories and if yes, it passes boolean value as a prop to the functional component - News.\r\n    \r\n    ***************************************************************************/\r\n    \r\n    \r\n    likeNews(headline,author){\r\n        \r\n        if(this.state.likedItems.some((item)=>item.headline===headline && item.author===author)){\r\n            let index = this.state.likedItems.findIndex((e)=>e.headline===headline && e.author===author)\r\n            let arr = this.state.likedItems.slice()\r\n            arr.splice(index,1);\r\n            this.setState({likedItems:arr},()=>{\r\n                if (typeof(Storage) !== \"undefined\") {\r\n                    window.localStorage.setItem(\"likedNews\",JSON.stringify(this.state.likedItems))\r\n                } else {\r\n                    alert(\"Sorry, your browser doesn't support this feature\")\r\n                }\r\n            })\r\n            \r\n        } else {\r\n            \r\n            let arr = this.state.likedItems.slice()\r\n            arr.push({headline: headline, author:author})\r\n            this.setState({likedItems:arr},()=>{\r\n                if (typeof(Storage) !== \"undefined\") {\r\n                    window.localStorage.setItem(\"likedNews\",JSON.stringify(this.state.likedItems))\r\n                } else {\r\n                    alert(\"Sorry, your browser doesn't support this feature\")\r\n                }\r\n            })\r\n            \r\n        }\r\n    }\r\n    \r\n    searchChange(event){\r\n        let searchText = event.target.value;\r\n        if (searchText!==\"\"){\r\n            this.setState({filteredNews : this.state.news.filter(item=>item.story.headline.toLowerCase().includes(searchText.toLowerCase()))})\r\n        } else {\r\n            this.setState({filteredNews: this.state.news});\r\n        }\r\n        \r\n    }\r\n    \r\n    componentDidMount(){\r\n        fetch(\"https://cors-anywhere.herokuapp.com/https://ace.qtstage.io/api/v1/collections/entertainment\").then(response => response.json()).then((data)=>{ this.setState({isLoaded: true, news:data.items, filteredNews:data.items});}).catch(console.log);\r\n         console.log(\"Component Mounted\")\r\n    }\r\n    \r\n    render(){\r\n        console.log(\"Rendering...\")\r\n        if(!this.state.isLoaded){\r\n            return <div> <SearchBar searchChange={this.searchChange} /> <h1 className=\"loading\">Loading... </h1> </div>\r\n        } else {\r\n            return(\r\n                <div>\r\n                    <SearchBar searchChange={this.searchChange} />\r\n                    <div className=\"newsfeed\">\r\n\r\n                        {this.state.filteredNews.map((item,index) => (\r\n                            <div className=\"news-container\" key={index}>\r\n                                <News headline={item.story.headline} author={item.story[\"author-name\"]} likeNews={this.likeNews} isLiked={this.state.likedItems.some((e)=>e.headline===item.story.headline && e.author===item.story[\"author-name\"])}/>\r\n                            </div>\r\n                            ))};\r\n\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default NewsFeed","import React from \"react\"\r\nimport NewsFeed from \"./NewsFeed\"\r\n\r\n//------------- CSS imports\r\nimport \"../css/app.css\"\r\nimport \"../css/searchbar.css\"\r\n\r\n\r\nclass App extends React.Component{\r\n    render(){\r\n        return(\r\n            <div>\r\n                <NewsFeed />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\n\r\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\"\r\n\r\nimport App from \"./components/App\"\r\n\r\nReactDOM.render(<App />,document.getElementById(\"root\"))"],"sourceRoot":""}